<!DOCTYPE html>
<html>
<head>
  <title>SmartID frontend truffle 3</title>
  <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <script src="./app.js"></script>

  <script>


  </script>

  <script type="text/javascript">

//    var Web3 = require('web3');
//    var web3 = new Web3();
//    web3.setProvider(new web3.providers.HttpProvider());

//var abi = "hmms";
</script>


</head>
<body>


<!-- header info start-->
  <div class="top">

    <div class="toplefttitle"></div>

    <div class="topleft">
      Account Number: <br/><span id="accounNr">Check if running</span><br/><br/>
      Balance: <br/><span id="ethBalance"></span><br/>
    </div>
  </div>
  <!-- header info stop-->


  <!-- Main area start, rename from Left to main or something-->

<div class="left">

<!-- buttons start-->
    <!--div class="dropdown"-->
      <button onclick="App.myFunction()" class="dropbtn">Select Account</button>
      <div id="myDropdown" class="dropdown-content" style="display: none">
      </div>
    <!--/div-->

    <button class="leftBtn" onclick="App.showBtn('showAccounts'); App.accountList();">Show devices</button>

    <!--button class="leftBtn" onclick="App.showBtn('unlockAccount')">Unlock account</button-->

    <button class="leftBtn" onclick="App.showBtn('devices')">Devices</button>

    <button class="leftBtn" onclick="App.showBtn('endorseDevice')">Endorse Device</button>

    <button class="leftBtn" onclick="App.showBtn('endorseDevice')">Add Attribute</button>

    <button class="leftBtn" onclick="App.showBtn('setEncryptionKey')">Set Encryption Key</button>
<!-- buttons end-->



<!-- clean out accountinfo div later -->
  <div class="accountinfo">

  </div>
  <!-- clean out accountinfo div later end not sure...  -->

</div>

<div class="container">

  <!-- this just displays a list of accounts / do devices later-->
  <div id="showAccounts">
    <br/>
    <span id="listAccounts"></span>
  </div>
  <!-- this just displays a list of accounts / do devices later end-->

<!-- encryotion Key display start-->
    <div id="setEncryptionKey" style="display: none">

      <div id="encryptKey">

        <br>

        <p>
        <input type="text" id="eKey" placeholder="enter your desired key"></input>
        </p>
        <label for="eKey">Set public encryption Key</label>

        <br><br>
        <p>
        <button id="send" onclick="App.setKey()">Set new encryptionkey  - works</button>
        </p>
        <p>
        <button id="send" onclick="App.getKey()">Get encryptionkey  - works</button>
        </p>

        <p>
        Public encryption key is: <span id="encryptionKey"> If you see this then ethereum aint workin </span>
        </p>

      </div>
    </div>
<!-- encryotion Key display stop-->



<br><br>
<br><br><br><br><br><br><br><br>


<hr>

    Stop here: <br>

    todo:<br>
    Clean code ; layout clean... generic button layout. <br>

    <br><br><button id="send" onclick="App.smartContractNew()">New contract - works</button>

<hr>
    <br><br>
   <!-- new smart id start -->
    <br><input type="text" id="account" placeholder="e.g., 95"></input><br>
    <label for="smartNew">New SmartID:</label><br>
    <br><br><button id="send" onclick="App.smartNew()">New SmartID</button>

<hr>
    <br><br><br><input type="text" id="addAttribute" placeholder="Enter your attribute"></input><br>
    <label for="addAtt">Add Attribute to (account owner for now):</label><br>
    <br><br><button id="send" onclick="App.addAttribute()">Add Attribute</button>

 Be careful with check filter. Should only be activated once... Make sure to fix this. 
    <br><br><button id="send" onclick="App.watchFilter()">Check Filter</button>


    <button type="button" onClick="App.getFunctionHashes();">get functions</button>

<!-- test watch area -->

<div class="row">
   <div>
     <h2 class="sub-header">Transactions</h2>
     <div class="table-responsive">
       <table class="table table-striped">
         <thead>
           <tr>
             <th>block#</th>
             <th>from</th>
             <th>to</th>
             <th>input</th>
           </tr>
         </thead>
         <tbody id="transactions">
         </tbody>
       </table>
     </div>
   </div>
 </div>
</div>

<!-- test area stop -->

<br><br><br><br><br><br><br>
    <h1>SmartID</h1>
    <h2>- remove metacoin contracts</h2>


    Add user name = address<br>
    Set attributes to name + attribute<br>

    Set endoremensts to name <br>

    Set attribute hashes:...<br>
    then add attributes as: <br>
    smartID.addAttribute(hash1, {from: owner});<br>
    This should then return a hash.<br>

    smartID.addAttribute('0xca02b2202ffaacbd499438ef6d594a48f7a7631b60405ec8f30a0d7c096d54d5',{from: owner})<br><br>

    this still needs to be implemented as an array of attributes on the above input... Must also be owner = currentAccount, see coinbase. <br>

    Truffle<br><br>

    truffle(development)> smartID.addAttribute('0xca02b2202ffaacbd499438ef6d594a48f7a7631b60405ec8f30a0d7c096d54d5',{from: owner})<br>
    '0x68b6351f4d2bd239617e915b99add123e5a6e9dfa7f6e4f71fdb611cb563f137'<br><br>


    do a SmartID and SmartIdentityRegistry.abi to get our functions working.... We need to remmeber to load them. <br><br>


    Contracts don't accept ether unless you mark the function you're calling payable
    (If you want to do it with a send, function() payable { })


    <br><br><button id="send" onclick="App.endorseAcc()">Add Endorsement</button>

  <hr>
    <br>


    <br><br>



    <span id="status"></span>
    <br>

    <span id="pagecontent">.</span>
    <br>

    <span class="hint"><strong>Hint:</strong> open the browser developer console to view any errors and warnings.</span>


</div>

<h3>You are <span class="black"><span id="endorsed"></span></span></h3>


start here: <br>


Remember to change accounts. right now it defaults to steffen.addr
ess....<br>

add attribute

</div>


</body>
</html>
